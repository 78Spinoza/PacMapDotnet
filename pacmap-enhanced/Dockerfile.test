FROM ubuntu:22.04
RUN apt-get update && apt-get install -y curl build-essential
RUN curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y
ENV PATH="/root/.cargo/bin:/c/Users/AG/bin:/mingw64/bin:/usr/local/bin:/usr/bin:/bin:/mingw64/bin:/usr/bin:/c/Users/AG/bin:/c/Program Files/Android/jdk/jdk-8.0.302.8-hotspot/jdk8u302-b08/bin:/c/Program Files/CMake/bin:/c/Program Files/Docker/Docker/resources/bin:/c/Program Files/nodejs:/c/Program Files/dotnet:/c/Program Files/Microsoft SQL Server/150/Tools/Binn:/c/Program Files/Microsoft SQL Server/Client SDK/ODBC/170/Tools/Binn:/c/Users/AG/AppData/Local/Programs/Python/Python312:/c/Users/AG/AppData/Local/Programs/Python/Python312/Scripts:/c/Users/AG/AppData/Local/Programs/Python/Python312/Scripts:/c/Program Files/dotnet/packs/Microsoft.NET.Runtime.Emscripten.3.1.56.Python.win-x64/9.0.6/tools:/c/Program Files/dotnet/packs/Microsoft.NET.Runtime.Emscripten.3.1.56.Node.win-x64/9.0.6/tools/bin:/c/Windows:/c/Windows/system32:/c/Windows/System32/Wbem:/c/Windows/System32/WindowsPowerShell/v1.0:/c/Program Files/Pandoc:/cmd:/c/Users/AG/.local/bin:/c/Users/AG/.cargo/bin:/c/ClaudeProxy:/c/Program Files/Eclipse Adoptium/jdk-21.0.6.7-hotspot/bin:/c/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v12.5/bin:/c/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v12.5/libnvvp:/c/Program Files (x86)/Common Files/Intel/Shared Libraries/bin32:/c/Program Files (x86)/Common Files/Intel/Shared Libraries/bin:/c/Windows/system32:/c/Windows:/c/Windows/System32/Wbem:/c/Windows/System32/WindowsPowerShell/v1.0:/c/Windows/System32/OpenSSH:/c/Program Files/Microsoft SQL Server/150/Tools/Binn:/c/Program Files/Microsoft SQL Server/Client SDK/ODBC/170/Tools/Binn:/c/Program Files/dotnet:/c/Program Files/Intel/WiFi/bin:/c/Program Files/Common Files/Intel/WirelessCommon:/c/Program Files (x86)/Intel/Intel(R) Management Engine Components/DAL:/c/Program Files/Intel/Intel(R) Management Engine Components/DAL:/c/Program Files/CMake/bin:/c/Program Files/PuTTY:/c/Program Files/NVIDIA Corporation/Nsight Compute 2024.2.0:/c/Program Files (x86)/NVIDIA Corporation/PhysX/Common:/c/Program Files/Pandoc:/c/Program Files/Doc:/c/Users/AG/AppData/Roaming/npm:/c/Program Files/GitHub CLI:/c/ClaudeProxy:/c/Users/AG/claude-proxy:/usr/bin/vendor_perl:/usr/bin/core_perl"
WORKDIR /src
COPY Cargo.toml .
COPY src src
RUN echo 'Testing Rust installation...' && rustc --version && cargo --version
